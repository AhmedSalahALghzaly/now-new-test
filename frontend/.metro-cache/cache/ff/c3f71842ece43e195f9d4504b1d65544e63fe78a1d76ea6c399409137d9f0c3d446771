{"dependencies":[{"name":"./chunk-PXG64RU4.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":29,"index":85}}],"key":"95n72RjXuns6nOHwcOieKivptHg=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":108},"end":{"line":8,"column":63,"index":171}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}},{"name":"./query.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":172},"end":{"line":9,"column":35,"index":207}}],"key":"wqUrYlRol92tW0ObRFMnxaalj2Y=","exportNames":["*"],"imports":1}},{"name":"./notifyManager.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":208},"end":{"line":10,"column":51,"index":259}}],"key":"sE8Jk2BSATSKXEwal1fu77sfV3E=","exportNames":["*"],"imports":1}},{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":260},"end":{"line":11,"column":49,"index":309}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"QueryCache\", {\n    enumerable: true,\n    get: function () {\n      return QueryCache;\n    }\n  });\n  var _chunkPXG64RU4Js = require(_dependencyMap[0], \"./chunk-PXG64RU4.js\");\n  var _utilsJs = require(_dependencyMap[1], \"./utils.js\");\n  var _queryJs = require(_dependencyMap[2], \"./query.js\");\n  var _notifyManagerJs = require(_dependencyMap[3], \"./notifyManager.js\");\n  var _subscribableJs = require(_dependencyMap[4], \"./subscribable.js\");\n  // src/queryCache.ts\n\n  var _queries;\n  var QueryCache = class extends _subscribableJs.Subscribable {\n    constructor(config = {}) {\n      super();\n      this.config = config;\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _queries);\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _queries, /* @__PURE__ */new Map());\n    }\n    build(client, options, state) {\n      const queryKey = options.queryKey;\n      const queryHash = options.queryHash ?? (0, _utilsJs.hashQueryKeyByOptions)(queryKey, options);\n      let query = this.get(queryHash);\n      if (!query) {\n        query = new _queryJs.Query({\n          client,\n          queryKey,\n          queryHash,\n          options: client.defaultQueryOptions(options),\n          state,\n          defaultOptions: client.getQueryDefaults(queryKey)\n        });\n        this.add(query);\n      }\n      return query;\n    }\n    add(query) {\n      if (!(0, _chunkPXG64RU4Js.__privateGet)(this, _queries).has(query.queryHash)) {\n        (0, _chunkPXG64RU4Js.__privateGet)(this, _queries).set(query.queryHash, query);\n        this.notify({\n          type: \"added\",\n          query\n        });\n      }\n    }\n    remove(query) {\n      const queryInMap = (0, _chunkPXG64RU4Js.__privateGet)(this, _queries).get(query.queryHash);\n      if (queryInMap) {\n        query.destroy();\n        if (queryInMap === query) {\n          (0, _chunkPXG64RU4Js.__privateGet)(this, _queries).delete(query.queryHash);\n        }\n        this.notify({\n          type: \"removed\",\n          query\n        });\n      }\n    }\n    clear() {\n      _notifyManagerJs.notifyManager.batch(() => {\n        this.getAll().forEach(query => {\n          this.remove(query);\n        });\n      });\n    }\n    get(queryHash) {\n      return (0, _chunkPXG64RU4Js.__privateGet)(this, _queries).get(queryHash);\n    }\n    getAll() {\n      return [...(0, _chunkPXG64RU4Js.__privateGet)(this, _queries).values()];\n    }\n    find(filters) {\n      const defaultedFilters = Object.assign({\n        exact: true\n      }, filters);\n      return this.getAll().find(query => (0, _utilsJs.matchQuery)(defaultedFilters, query));\n    }\n    findAll(filters = {}) {\n      const queries = this.getAll();\n      return Object.keys(filters).length > 0 ? queries.filter(query => (0, _utilsJs.matchQuery)(filters, query)) : queries;\n    }\n    notify(event) {\n      _notifyManagerJs.notifyManager.batch(() => {\n        this.listeners.forEach(listener => {\n          listener(event);\n        });\n      });\n    }\n    onFocus() {\n      _notifyManagerJs.notifyManager.batch(() => {\n        this.getAll().forEach(query => {\n          query.onFocus();\n        });\n      });\n    }\n    onOnline() {\n      _notifyManagerJs.notifyManager.batch(() => {\n        this.getAll().forEach(query => {\n          query.onOnline();\n        });\n      });\n    }\n  };\n  _queries = new WeakMap();\n});","lineCount":113,"map":[[7,2,102,0,"Object"],[7,8,102,0],[7,9,102,0,"defineProperty"],[7,23,102,0],[7,24,102,0,"exports"],[7,31,102,0],[8,4,102,0,"enumerable"],[8,14,102,0],[9,4,102,0,"get"],[9,7,102,0],[9,18,102,0,"get"],[9,19,102,0],[10,6,102,0],[10,13,103,2,"QueryCache"],[10,23,103,12],[11,4,103,12],[12,2,103,12],[13,2,1,0],[13,6,1,0,"_chunkPXG64RU4Js"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,8,0],[14,6,8,0,"_utilsJs"],[14,14,8,0],[14,17,8,0,"require"],[14,24,8,0],[14,25,8,0,"_dependencyMap"],[14,39,8,0],[15,2,9,0],[15,6,9,0,"_queryJs"],[15,14,9,0],[15,17,9,0,"require"],[15,24,9,0],[15,25,9,0,"_dependencyMap"],[15,39,9,0],[16,2,10,0],[16,6,10,0,"_notifyManagerJs"],[16,22,10,0],[16,25,10,0,"require"],[16,32,10,0],[16,33,10,0,"_dependencyMap"],[16,47,10,0],[17,2,11,0],[17,6,11,0,"_subscribableJs"],[17,21,11,0],[17,24,11,0,"require"],[17,31,11,0],[17,32,11,0,"_dependencyMap"],[17,46,11,0],[18,2,7,0],[20,2,12,0],[20,6,12,4,"_queries"],[20,14,12,12],[21,2,13,0],[21,6,13,4,"QueryCache"],[21,16,13,14],[21,19,13,17],[21,33,13,31,"Subscribable"],[21,48,13,43],[21,49,13,43,"Subscribable"],[21,61,13,43],[21,62,13,44],[22,4,14,2,"constructor"],[22,15,14,13,"constructor"],[22,16,14,14,"config"],[22,22,14,20],[22,25,14,23],[22,26,14,24],[22,27,14,25],[22,29,14,27],[23,6,15,4],[23,11,15,9],[23,12,15,10],[23,13,15,11],[24,6,16,4],[24,10,16,8],[24,11,16,9,"config"],[24,17,16,15],[24,20,16,18,"config"],[24,26,16,24],[25,6,17,4],[25,10,17,4,"__privateAdd"],[25,26,17,16],[25,27,17,16,"__privateAdd"],[25,39,17,16],[25,41,17,17],[25,45,17,21],[25,47,17,23,"_queries"],[25,55,17,31],[25,56,17,32],[26,6,18,4],[26,10,18,4,"__privateSet"],[26,26,18,16],[26,27,18,16,"__privateSet"],[26,39,18,16],[26,41,18,17],[26,45,18,21],[26,47,18,23,"_queries"],[26,55,18,31],[26,57,18,33],[26,72,18,49],[26,76,18,53,"Map"],[26,79,18,56],[26,80,18,57],[26,81,18,58],[26,82,18,59],[27,4,19,2],[28,4,20,2,"build"],[28,9,20,7,"build"],[28,10,20,8,"client"],[28,16,20,14],[28,18,20,16,"options"],[28,25,20,23],[28,27,20,25,"state"],[28,32,20,30],[28,34,20,32],[29,6,21,4],[29,12,21,10,"queryKey"],[29,20,21,18],[29,23,21,21,"options"],[29,30,21,28],[29,31,21,29,"queryKey"],[29,39,21,37],[30,6,22,4],[30,12,22,10,"queryHash"],[30,21,22,19],[30,24,22,22,"options"],[30,31,22,29],[30,32,22,30,"queryHash"],[30,41,22,39],[30,45,22,43],[30,49,22,43,"hashQueryKeyByOptions"],[30,57,22,64],[30,58,22,64,"hashQueryKeyByOptions"],[30,79,22,64],[30,81,22,65,"queryKey"],[30,89,22,73],[30,91,22,75,"options"],[30,98,22,82],[30,99,22,83],[31,6,23,4],[31,10,23,8,"query"],[31,15,23,13],[31,18,23,16],[31,22,23,20],[31,23,23,21,"get"],[31,26,23,24],[31,27,23,25,"queryHash"],[31,36,23,34],[31,37,23,35],[32,6,24,4],[32,10,24,8],[32,11,24,9,"query"],[32,16,24,14],[32,18,24,16],[33,8,25,6,"query"],[33,13,25,11],[33,16,25,14],[33,20,25,18,"Query"],[33,28,25,23],[33,29,25,23,"Query"],[33,34,25,23],[33,35,25,24],[34,10,26,8,"client"],[34,16,26,14],[35,10,27,8,"queryKey"],[35,18,27,16],[36,10,28,8,"queryHash"],[36,19,28,17],[37,10,29,8,"options"],[37,17,29,15],[37,19,29,17,"client"],[37,25,29,23],[37,26,29,24,"defaultQueryOptions"],[37,45,29,43],[37,46,29,44,"options"],[37,53,29,51],[37,54,29,52],[38,10,30,8,"state"],[38,15,30,13],[39,10,31,8,"defaultOptions"],[39,24,31,22],[39,26,31,24,"client"],[39,32,31,30],[39,33,31,31,"getQueryDefaults"],[39,49,31,47],[39,50,31,48,"queryKey"],[39,58,31,56],[40,8,32,6],[40,9,32,7],[40,10,32,8],[41,8,33,6],[41,12,33,10],[41,13,33,11,"add"],[41,16,33,14],[41,17,33,15,"query"],[41,22,33,20],[41,23,33,21],[42,6,34,4],[43,6,35,4],[43,13,35,11,"query"],[43,18,35,16],[44,4,36,2],[45,4,37,2,"add"],[45,7,37,5,"add"],[45,8,37,6,"query"],[45,13,37,11],[45,15,37,13],[46,6,38,4],[46,10,38,8],[46,11,38,9],[46,15,38,9,"__privateGet"],[46,31,38,21],[46,32,38,21,"__privateGet"],[46,44,38,21],[46,46,38,22],[46,50,38,26],[46,52,38,28,"_queries"],[46,60,38,36],[46,61,38,37],[46,62,38,38,"has"],[46,65,38,41],[46,66,38,42,"query"],[46,71,38,47],[46,72,38,48,"queryHash"],[46,81,38,57],[46,82,38,58],[46,84,38,60],[47,8,39,6],[47,12,39,6,"__privateGet"],[47,28,39,18],[47,29,39,18,"__privateGet"],[47,41,39,18],[47,43,39,19],[47,47,39,23],[47,49,39,25,"_queries"],[47,57,39,33],[47,58,39,34],[47,59,39,35,"set"],[47,62,39,38],[47,63,39,39,"query"],[47,68,39,44],[47,69,39,45,"queryHash"],[47,78,39,54],[47,80,39,56,"query"],[47,85,39,61],[47,86,39,62],[48,8,40,6],[48,12,40,10],[48,13,40,11,"notify"],[48,19,40,17],[48,20,40,18],[49,10,41,8,"type"],[49,14,41,12],[49,16,41,14],[49,23,41,21],[50,10,42,8,"query"],[51,8,43,6],[51,9,43,7],[51,10,43,8],[52,6,44,4],[53,4,45,2],[54,4,46,2,"remove"],[54,10,46,8,"remove"],[54,11,46,9,"query"],[54,16,46,14],[54,18,46,16],[55,6,47,4],[55,12,47,10,"queryInMap"],[55,22,47,20],[55,25,47,23],[55,29,47,23,"__privateGet"],[55,45,47,35],[55,46,47,35,"__privateGet"],[55,58,47,35],[55,60,47,36],[55,64,47,40],[55,66,47,42,"_queries"],[55,74,47,50],[55,75,47,51],[55,76,47,52,"get"],[55,79,47,55],[55,80,47,56,"query"],[55,85,47,61],[55,86,47,62,"queryHash"],[55,95,47,71],[55,96,47,72],[56,6,48,4],[56,10,48,8,"queryInMap"],[56,20,48,18],[56,22,48,20],[57,8,49,6,"query"],[57,13,49,11],[57,14,49,12,"destroy"],[57,21,49,19],[57,22,49,20],[57,23,49,21],[58,8,50,6],[58,12,50,10,"queryInMap"],[58,22,50,20],[58,27,50,25,"query"],[58,32,50,30],[58,34,50,32],[59,10,51,8],[59,14,51,8,"__privateGet"],[59,30,51,20],[59,31,51,20,"__privateGet"],[59,43,51,20],[59,45,51,21],[59,49,51,25],[59,51,51,27,"_queries"],[59,59,51,35],[59,60,51,36],[59,61,51,37,"delete"],[59,67,51,43],[59,68,51,44,"query"],[59,73,51,49],[59,74,51,50,"queryHash"],[59,83,51,59],[59,84,51,60],[60,8,52,6],[61,8,53,6],[61,12,53,10],[61,13,53,11,"notify"],[61,19,53,17],[61,20,53,18],[62,10,53,20,"type"],[62,14,53,24],[62,16,53,26],[62,25,53,35],[63,10,53,37,"query"],[64,8,53,43],[64,9,53,44],[64,10,53,45],[65,6,54,4],[66,4,55,2],[67,4,56,2,"clear"],[67,9,56,7,"clear"],[67,10,56,7],[67,12,56,10],[68,6,57,4,"notifyManager"],[68,22,57,17],[68,23,57,17,"notifyManager"],[68,36,57,17],[68,37,57,18,"batch"],[68,42,57,23],[68,43,57,24],[68,49,57,30],[69,8,58,6],[69,12,58,10],[69,13,58,11,"getAll"],[69,19,58,17],[69,20,58,18],[69,21,58,19],[69,22,58,20,"forEach"],[69,29,58,27],[69,30,58,29,"query"],[69,35,58,34],[69,39,58,39],[70,10,59,8],[70,14,59,12],[70,15,59,13,"remove"],[70,21,59,19],[70,22,59,20,"query"],[70,27,59,25],[70,28,59,26],[71,8,60,6],[71,9,60,7],[71,10,60,8],[72,6,61,4],[72,7,61,5],[72,8,61,6],[73,4,62,2],[74,4,63,2,"get"],[74,7,63,5,"get"],[74,8,63,6,"queryHash"],[74,17,63,15],[74,19,63,17],[75,6,64,4],[75,13,64,11],[75,17,64,11,"__privateGet"],[75,33,64,23],[75,34,64,23,"__privateGet"],[75,46,64,23],[75,48,64,24],[75,52,64,28],[75,54,64,30,"_queries"],[75,62,64,38],[75,63,64,39],[75,64,64,40,"get"],[75,67,64,43],[75,68,64,44,"queryHash"],[75,77,64,53],[75,78,64,54],[76,4,65,2],[77,4,66,2,"getAll"],[77,10,66,8,"getAll"],[77,11,66,8],[77,13,66,11],[78,6,67,4],[78,13,67,11],[78,14,67,12],[78,17,67,15],[78,21,67,15,"__privateGet"],[78,37,67,27],[78,38,67,27,"__privateGet"],[78,50,67,27],[78,52,67,28],[78,56,67,32],[78,58,67,34,"_queries"],[78,66,67,42],[78,67,67,43],[78,68,67,44,"values"],[78,74,67,50],[78,75,67,51],[78,76,67,52],[78,77,67,53],[79,4,68,2],[80,4,69,2,"find"],[80,8,69,6,"find"],[80,9,69,7,"filters"],[80,16,69,14],[80,18,69,16],[81,6,70,4],[81,12,70,10,"defaultedFilters"],[81,28,70,26],[81,31,70,26,"Object"],[81,37,70,26],[81,38,70,26,"assign"],[81,44,70,26],[82,8,70,31,"exact"],[82,13,70,36],[82,15,70,38],[83,6,70,42],[83,9,70,47,"filters"],[83,16,70,54],[83,17,70,56],[84,6,71,4],[84,13,71,11],[84,17,71,15],[84,18,71,16,"getAll"],[84,24,71,22],[84,25,71,23],[84,26,71,24],[84,27,71,25,"find"],[84,31,71,29],[84,32,72,7,"query"],[84,37,72,12],[84,41,72,17],[84,45,72,17,"matchQuery"],[84,53,72,27],[84,54,72,27,"matchQuery"],[84,64,72,27],[84,66,72,28,"defaultedFilters"],[84,82,72,44],[84,84,72,46,"query"],[84,89,72,51],[84,90,73,4],[84,91,73,5],[85,4,74,2],[86,4,75,2,"findAll"],[86,11,75,9,"findAll"],[86,12,75,10,"filters"],[86,19,75,17],[86,22,75,20],[86,23,75,21],[86,24,75,22],[86,26,75,24],[87,6,76,4],[87,12,76,10,"queries"],[87,19,76,17],[87,22,76,20],[87,26,76,24],[87,27,76,25,"getAll"],[87,33,76,31],[87,34,76,32],[87,35,76,33],[88,6,77,4],[88,13,77,11,"Object"],[88,19,77,17],[88,20,77,18,"keys"],[88,24,77,22],[88,25,77,23,"filters"],[88,32,77,30],[88,33,77,31],[88,34,77,32,"length"],[88,40,77,38],[88,43,77,41],[88,44,77,42],[88,47,77,45,"queries"],[88,54,77,52],[88,55,77,53,"filter"],[88,61,77,59],[88,62,77,61,"query"],[88,67,77,66],[88,71,77,71],[88,75,77,71,"matchQuery"],[88,83,77,81],[88,84,77,81,"matchQuery"],[88,94,77,81],[88,96,77,82,"filters"],[88,103,77,89],[88,105,77,91,"query"],[88,110,77,96],[88,111,77,97],[88,112,77,98],[88,115,77,101,"queries"],[88,122,77,108],[89,4,78,2],[90,4,79,2,"notify"],[90,10,79,8,"notify"],[90,11,79,9,"event"],[90,16,79,14],[90,18,79,16],[91,6,80,4,"notifyManager"],[91,22,80,17],[91,23,80,17,"notifyManager"],[91,36,80,17],[91,37,80,18,"batch"],[91,42,80,23],[91,43,80,24],[91,49,80,30],[92,8,81,6],[92,12,81,10],[92,13,81,11,"listeners"],[92,22,81,20],[92,23,81,21,"forEach"],[92,30,81,28],[92,31,81,30,"listener"],[92,39,81,38],[92,43,81,43],[93,10,82,8,"listener"],[93,18,82,16],[93,19,82,17,"event"],[93,24,82,22],[93,25,82,23],[94,8,83,6],[94,9,83,7],[94,10,83,8],[95,6,84,4],[95,7,84,5],[95,8,84,6],[96,4,85,2],[97,4,86,2,"onFocus"],[97,11,86,9,"onFocus"],[97,12,86,9],[97,14,86,12],[98,6,87,4,"notifyManager"],[98,22,87,17],[98,23,87,17,"notifyManager"],[98,36,87,17],[98,37,87,18,"batch"],[98,42,87,23],[98,43,87,24],[98,49,87,30],[99,8,88,6],[99,12,88,10],[99,13,88,11,"getAll"],[99,19,88,17],[99,20,88,18],[99,21,88,19],[99,22,88,20,"forEach"],[99,29,88,27],[99,30,88,29,"query"],[99,35,88,34],[99,39,88,39],[100,10,89,8,"query"],[100,15,89,13],[100,16,89,14,"onFocus"],[100,23,89,21],[100,24,89,22],[100,25,89,23],[101,8,90,6],[101,9,90,7],[101,10,90,8],[102,6,91,4],[102,7,91,5],[102,8,91,6],[103,4,92,2],[104,4,93,2,"onOnline"],[104,12,93,10,"onOnline"],[104,13,93,10],[104,15,93,13],[105,6,94,4,"notifyManager"],[105,22,94,17],[105,23,94,17,"notifyManager"],[105,36,94,17],[105,37,94,18,"batch"],[105,42,94,23],[105,43,94,24],[105,49,94,30],[106,8,95,6],[106,12,95,10],[106,13,95,11,"getAll"],[106,19,95,17],[106,20,95,18],[106,21,95,19],[106,22,95,20,"forEach"],[106,29,95,27],[106,30,95,29,"query"],[106,35,95,34],[106,39,95,39],[107,10,96,8,"query"],[107,15,96,13],[107,16,96,14,"onOnline"],[107,24,96,22],[107,25,96,23],[107,26,96,24],[108,8,97,6],[108,9,97,7],[108,10,97,8],[109,6,98,4],[109,7,98,5],[109,8,98,6],[110,4,99,2],[111,2,100,0],[111,3,100,1],[112,2,101,0,"_queries"],[112,10,101,8],[112,13,101,11],[112,17,101,15,"WeakMap"],[112,24,101,22],[112,25,101,23],[112,26,101,24],[113,0,101,25],[113,3]],"functionMap":{"names":["<global>","QueryCache","QueryCache#constructor","QueryCache#build","QueryCache#add","QueryCache#remove","QueryCache#clear","notifyManager.batch$argument_0","getAll.forEach$argument_0","QueryCache#get","QueryCache#getAll","QueryCache#find","getAll.find$argument_0","QueryCache#findAll","queries.filter$argument_0","QueryCache#notify","listeners.forEach$argument_0","QueryCache#onFocus","QueryCache#onOnline"],"mappings":"AAA;iBCY;ECC;GDK;EEC;GFgB;EGC;GHQ;EIC;GJS;EKC;wBCC;4BCC;ODE;KDC;GLC;EQC;GRE;ESC;GTE;EUC;MCG,8CD;GVE;EYC;4DCE,qCD;GZC;EcC;wBRC;6BSC;OTE;KQC;GdC;EgBC;wBVC;4BCC;ODE;KUC;GhBC;EiBC;wBXC;4BCC;ODE;KWC;GjBC;CDC"},"hasCjsExports":false},"type":"js/module"}]}