{"dependencies":[{"name":"./chunk-PXG64RU4.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":29,"index":85}}],"key":"95n72RjXuns6nOHwcOieKivptHg=","exportNames":["*"],"imports":1}},{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":110},"end":{"line":8,"column":49,"index":159}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":160},"end":{"line":9,"column":38,"index":198}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"FocusManager\", {\n    enumerable: true,\n    get: function () {\n      return FocusManager;\n    }\n  });\n  Object.defineProperty(exports, \"focusManager\", {\n    enumerable: true,\n    get: function () {\n      return focusManager;\n    }\n  });\n  var _chunkPXG64RU4Js = require(_dependencyMap[0], \"./chunk-PXG64RU4.js\");\n  var _subscribableJs = require(_dependencyMap[1], \"./subscribable.js\");\n  var _utilsJs = require(_dependencyMap[2], \"./utils.js\");\n  // src/focusManager.ts\n\n  var _focused, _cleanup, _setup;\n  var FocusManager = class extends _subscribableJs.Subscribable {\n    constructor() {\n      super();\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _focused);\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _cleanup);\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _setup);\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _setup, onFocus => {\n        if (!_utilsJs.isServer && window.addEventListener) {\n          const listener = () => onFocus();\n          window.addEventListener(\"visibilitychange\", listener, false);\n          return () => {\n            window.removeEventListener(\"visibilitychange\", listener);\n          };\n        }\n        return;\n      });\n    }\n    onSubscribe() {\n      if (!(0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) {\n        this.setEventListener((0, _chunkPXG64RU4Js.__privateGet)(this, _setup));\n      }\n    }\n    onUnsubscribe() {\n      var _a;\n      if (!this.hasListeners()) {\n        (_a = (0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) == null ? void 0 : _a.call(this);\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _cleanup, void 0);\n      }\n    }\n    setEventListener(setup) {\n      var _a;\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _setup, setup);\n      (_a = (0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) == null ? void 0 : _a.call(this);\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _cleanup, setup(focused => {\n        if (typeof focused === \"boolean\") {\n          this.setFocused(focused);\n        } else {\n          this.onFocus();\n        }\n      }));\n    }\n    setFocused(focused) {\n      const changed = (0, _chunkPXG64RU4Js.__privateGet)(this, _focused) !== focused;\n      if (changed) {\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _focused, focused);\n        this.onFocus();\n      }\n    }\n    onFocus() {\n      const isFocused = this.isFocused();\n      this.listeners.forEach(listener => {\n        listener(isFocused);\n      });\n    }\n    isFocused() {\n      var _a;\n      if (typeof (0, _chunkPXG64RU4Js.__privateGet)(this, _focused) === \"boolean\") {\n        return (0, _chunkPXG64RU4Js.__privateGet)(this, _focused);\n      }\n      return ((_a = globalThis.document) == null ? void 0 : _a.visibilityState) !== \"hidden\";\n    }\n  };\n  _focused = new WeakMap();\n  _cleanup = new WeakMap();\n  _setup = new WeakMap();\n  var focusManager = new FocusManager();\n});","lineCount":91,"map":[[7,2,77,0,"Object"],[7,8,77,0],[7,9,77,0,"defineProperty"],[7,23,77,0],[7,24,77,0,"exports"],[7,31,77,0],[8,4,77,0,"enumerable"],[8,14,77,0],[9,4,77,0,"get"],[9,7,77,0],[9,18,77,0,"get"],[9,19,77,0],[10,6,77,0],[10,13,78,2,"FocusManager"],[10,25,78,14],[11,4,78,14],[12,2,78,14],[13,2,77,0,"Object"],[13,8,77,0],[13,9,77,0,"defineProperty"],[13,23,77,0],[13,24,77,0,"exports"],[13,31,77,0],[14,4,77,0,"enumerable"],[14,14,77,0],[15,4,77,0,"get"],[15,7,77,0],[15,18,77,0,"get"],[15,19,77,0],[16,6,77,0],[16,13,79,2,"focusManager"],[16,25,79,14],[17,4,79,14],[18,2,79,14],[19,2,1,0],[19,6,1,0,"_chunkPXG64RU4Js"],[19,22,1,0],[19,25,1,0,"require"],[19,32,1,0],[19,33,1,0,"_dependencyMap"],[19,47,1,0],[20,2,8,0],[20,6,8,0,"_subscribableJs"],[20,21,8,0],[20,24,8,0,"require"],[20,31,8,0],[20,32,8,0,"_dependencyMap"],[20,46,8,0],[21,2,9,0],[21,6,9,0,"_utilsJs"],[21,14,9,0],[21,17,9,0,"require"],[21,24,9,0],[21,25,9,0,"_dependencyMap"],[21,39,9,0],[22,2,7,0],[24,2,10,0],[24,6,10,4,"_focused"],[24,14,10,12],[24,16,10,14,"_cleanup"],[24,24,10,22],[24,26,10,24,"_setup"],[24,32,10,30],[25,2,11,0],[25,6,11,4,"FocusManager"],[25,18,11,16],[25,21,11,19],[25,35,11,33,"Subscribable"],[25,50,11,45],[25,51,11,45,"Subscribable"],[25,63,11,45],[25,64,11,46],[26,4,12,2,"constructor"],[26,15,12,13,"constructor"],[26,16,12,13],[26,18,12,16],[27,6,13,4],[27,11,13,9],[27,12,13,10],[27,13,13,11],[28,6,14,4],[28,10,14,4,"__privateAdd"],[28,26,14,16],[28,27,14,16,"__privateAdd"],[28,39,14,16],[28,41,14,17],[28,45,14,21],[28,47,14,23,"_focused"],[28,55,14,31],[28,56,14,32],[29,6,15,4],[29,10,15,4,"__privateAdd"],[29,26,15,16],[29,27,15,16,"__privateAdd"],[29,39,15,16],[29,41,15,17],[29,45,15,21],[29,47,15,23,"_cleanup"],[29,55,15,31],[29,56,15,32],[30,6,16,4],[30,10,16,4,"__privateAdd"],[30,26,16,16],[30,27,16,16,"__privateAdd"],[30,39,16,16],[30,41,16,17],[30,45,16,21],[30,47,16,23,"_setup"],[30,53,16,29],[30,54,16,30],[31,6,17,4],[31,10,17,4,"__privateSet"],[31,26,17,16],[31,27,17,16,"__privateSet"],[31,39,17,16],[31,41,17,17],[31,45,17,21],[31,47,17,23,"_setup"],[31,53,17,29],[31,55,17,32,"onFocus"],[31,62,17,39],[31,66,17,44],[32,8,18,6],[32,12,18,10],[32,13,18,11,"isServer"],[32,21,18,19],[32,22,18,19,"isServer"],[32,30,18,19],[32,34,18,23,"window"],[32,40,18,29],[32,41,18,30,"addEventListener"],[32,57,18,46],[32,59,18,48],[33,10,19,8],[33,16,19,14,"listener"],[33,24,19,22],[33,27,19,25,"listener"],[33,28,19,25],[33,33,19,31,"onFocus"],[33,40,19,38],[33,41,19,39],[33,42,19,40],[34,10,20,8,"window"],[34,16,20,14],[34,17,20,15,"addEventListener"],[34,33,20,31],[34,34,20,32],[34,52,20,50],[34,54,20,52,"listener"],[34,62,20,60],[34,64,20,62],[34,69,20,67],[34,70,20,68],[35,10,21,8],[35,17,21,15],[35,23,21,21],[36,12,22,10,"window"],[36,18,22,16],[36,19,22,17,"removeEventListener"],[36,38,22,36],[36,39,22,37],[36,57,22,55],[36,59,22,57,"listener"],[36,67,22,65],[36,68,22,66],[37,10,23,8],[37,11,23,9],[38,8,24,6],[39,8,25,6],[40,6,26,4],[40,7,26,5],[40,8,26,6],[41,4,27,2],[42,4,28,2,"onSubscribe"],[42,15,28,13,"onSubscribe"],[42,16,28,13],[42,18,28,16],[43,6,29,4],[43,10,29,8],[43,11,29,9],[43,15,29,9,"__privateGet"],[43,31,29,21],[43,32,29,21,"__privateGet"],[43,44,29,21],[43,46,29,22],[43,50,29,26],[43,52,29,28,"_cleanup"],[43,60,29,36],[43,61,29,37],[43,63,29,39],[44,8,30,6],[44,12,30,10],[44,13,30,11,"setEventListener"],[44,29,30,27],[44,30,30,28],[44,34,30,28,"__privateGet"],[44,50,30,40],[44,51,30,40,"__privateGet"],[44,63,30,40],[44,65,30,41],[44,69,30,45],[44,71,30,47,"_setup"],[44,77,30,53],[44,78,30,54],[44,79,30,55],[45,6,31,4],[46,4,32,2],[47,4,33,2,"onUnsubscribe"],[47,17,33,15,"onUnsubscribe"],[47,18,33,15],[47,20,33,18],[48,6,34,4],[48,10,34,8,"_a"],[48,12,34,10],[49,6,35,4],[49,10,35,8],[49,11,35,9],[49,15,35,13],[49,16,35,14,"hasListeners"],[49,28,35,26],[49,29,35,27],[49,30,35,28],[49,32,35,30],[50,8,36,6],[50,9,36,7,"_a"],[50,11,36,9],[50,14,36,12],[50,18,36,12,"__privateGet"],[50,34,36,24],[50,35,36,24,"__privateGet"],[50,47,36,24],[50,49,36,25],[50,53,36,29],[50,55,36,31,"_cleanup"],[50,63,36,39],[50,64,36,40],[50,69,36,45],[50,73,36,49],[50,76,36,52],[50,81,36,57],[50,82,36,58],[50,85,36,61,"_a"],[50,87,36,63],[50,88,36,64,"call"],[50,92,36,68],[50,93,36,69],[50,97,36,73],[50,98,36,74],[51,8,37,6],[51,12,37,6,"__privateSet"],[51,28,37,18],[51,29,37,18,"__privateSet"],[51,41,37,18],[51,43,37,19],[51,47,37,23],[51,49,37,25,"_cleanup"],[51,57,37,33],[51,59,37,35],[51,64,37,40],[51,65,37,41],[51,66,37,42],[52,6,38,4],[53,4,39,2],[54,4,40,2,"setEventListener"],[54,20,40,18,"setEventListener"],[54,21,40,19,"setup"],[54,26,40,24],[54,28,40,26],[55,6,41,4],[55,10,41,8,"_a"],[55,12,41,10],[56,6,42,4],[56,10,42,4,"__privateSet"],[56,26,42,16],[56,27,42,16,"__privateSet"],[56,39,42,16],[56,41,42,17],[56,45,42,21],[56,47,42,23,"_setup"],[56,53,42,29],[56,55,42,31,"setup"],[56,60,42,36],[56,61,42,37],[57,6,43,4],[57,7,43,5,"_a"],[57,9,43,7],[57,12,43,10],[57,16,43,10,"__privateGet"],[57,32,43,22],[57,33,43,22,"__privateGet"],[57,45,43,22],[57,47,43,23],[57,51,43,27],[57,53,43,29,"_cleanup"],[57,61,43,37],[57,62,43,38],[57,67,43,43],[57,71,43,47],[57,74,43,50],[57,79,43,55],[57,80,43,56],[57,83,43,59,"_a"],[57,85,43,61],[57,86,43,62,"call"],[57,90,43,66],[57,91,43,67],[57,95,43,71],[57,96,43,72],[58,6,44,4],[58,10,44,4,"__privateSet"],[58,26,44,16],[58,27,44,16,"__privateSet"],[58,39,44,16],[58,41,44,17],[58,45,44,21],[58,47,44,23,"_cleanup"],[58,55,44,31],[58,57,44,33,"setup"],[58,62,44,38],[58,63,44,40,"focused"],[58,70,44,47],[58,74,44,52],[59,8,45,6],[59,12,45,10],[59,19,45,17,"focused"],[59,26,45,24],[59,31,45,29],[59,40,45,38],[59,42,45,40],[60,10,46,8],[60,14,46,12],[60,15,46,13,"setFocused"],[60,25,46,23],[60,26,46,24,"focused"],[60,33,46,31],[60,34,46,32],[61,8,47,6],[61,9,47,7],[61,15,47,13],[62,10,48,8],[62,14,48,12],[62,15,48,13,"onFocus"],[62,22,48,20],[62,23,48,21],[62,24,48,22],[63,8,49,6],[64,6,50,4],[64,7,50,5],[64,8,50,6],[64,9,50,7],[65,4,51,2],[66,4,52,2,"setFocused"],[66,14,52,12,"setFocused"],[66,15,52,13,"focused"],[66,22,52,20],[66,24,52,22],[67,6,53,4],[67,12,53,10,"changed"],[67,19,53,17],[67,22,53,20],[67,26,53,20,"__privateGet"],[67,42,53,32],[67,43,53,32,"__privateGet"],[67,55,53,32],[67,57,53,33],[67,61,53,37],[67,63,53,39,"_focused"],[67,71,53,47],[67,72,53,48],[67,77,53,53,"focused"],[67,84,53,60],[68,6,54,4],[68,10,54,8,"changed"],[68,17,54,15],[68,19,54,17],[69,8,55,6],[69,12,55,6,"__privateSet"],[69,28,55,18],[69,29,55,18,"__privateSet"],[69,41,55,18],[69,43,55,19],[69,47,55,23],[69,49,55,25,"_focused"],[69,57,55,33],[69,59,55,35,"focused"],[69,66,55,42],[69,67,55,43],[70,8,56,6],[70,12,56,10],[70,13,56,11,"onFocus"],[70,20,56,18],[70,21,56,19],[70,22,56,20],[71,6,57,4],[72,4,58,2],[73,4,59,2,"onFocus"],[73,11,59,9,"onFocus"],[73,12,59,9],[73,14,59,12],[74,6,60,4],[74,12,60,10,"isFocused"],[74,21,60,19],[74,24,60,22],[74,28,60,26],[74,29,60,27,"isFocused"],[74,38,60,36],[74,39,60,37],[74,40,60,38],[75,6,61,4],[75,10,61,8],[75,11,61,9,"listeners"],[75,20,61,18],[75,21,61,19,"forEach"],[75,28,61,26],[75,29,61,28,"listener"],[75,37,61,36],[75,41,61,41],[76,8,62,6,"listener"],[76,16,62,14],[76,17,62,15,"isFocused"],[76,26,62,24],[76,27,62,25],[77,6,63,4],[77,7,63,5],[77,8,63,6],[78,4,64,2],[79,4,65,2,"isFocused"],[79,13,65,11,"isFocused"],[79,14,65,11],[79,16,65,14],[80,6,66,4],[80,10,66,8,"_a"],[80,12,66,10],[81,6,67,4],[81,10,67,8],[81,17,67,15],[81,21,67,15,"__privateGet"],[81,37,67,27],[81,38,67,27,"__privateGet"],[81,50,67,27],[81,52,67,28],[81,56,67,32],[81,58,67,34,"_focused"],[81,66,67,42],[81,67,67,43],[81,72,67,48],[81,81,67,57],[81,83,67,59],[82,8,68,6],[82,15,68,13],[82,19,68,13,"__privateGet"],[82,35,68,25],[82,36,68,25,"__privateGet"],[82,48,68,25],[82,50,68,26],[82,54,68,30],[82,56,68,32,"_focused"],[82,64,68,40],[82,65,68,41],[83,6,69,4],[84,6,70,4],[84,13,70,11],[84,14,70,12],[84,15,70,13,"_a"],[84,17,70,15],[84,20,70,18,"globalThis"],[84,30,70,28],[84,31,70,29,"document"],[84,39,70,37],[84,44,70,42],[84,48,70,46],[84,51,70,49],[84,56,70,54],[84,57,70,55],[84,60,70,58,"_a"],[84,62,70,60],[84,63,70,61,"visibilityState"],[84,78,70,76],[84,84,70,82],[84,92,70,90],[85,4,71,2],[86,2,72,0],[86,3,72,1],[87,2,73,0,"_focused"],[87,10,73,8],[87,13,73,11],[87,17,73,15,"WeakMap"],[87,24,73,22],[87,25,73,23],[87,26,73,24],[88,2,74,0,"_cleanup"],[88,10,74,8],[88,13,74,11],[88,17,74,15,"WeakMap"],[88,24,74,22],[88,25,74,23],[88,26,74,24],[89,2,75,0,"_setup"],[89,8,75,6],[89,11,75,9],[89,15,75,13,"WeakMap"],[89,22,75,20],[89,23,75,21],[89,24,75,22],[90,2,76,0],[90,6,76,4,"focusManager"],[90,18,76,16],[90,21,76,19],[90,25,76,23,"FocusManager"],[90,37,76,35],[90,38,76,36],[90,39,76,37],[91,0,76,38],[91,3]],"functionMap":{"names":["<global>","FocusManager","FocusManager#constructor","__privateSet$argument_2","listener","<anonymous>","FocusManager#onSubscribe","FocusManager#onUnsubscribe","FocusManager#setEventListener","setup$argument_0","FocusManager#setFocused","FocusManager#onFocus","listeners.forEach$argument_0","FocusManager#isFocused"],"mappings":"AAA;mBCU;ECC;+BCK;yBCE,eD;eEE;SFE;KDG;GDC;EKC;GLI;EMC;GNM;EOC;uCCI;KDM;GPC;ESC;GTM;EUC;2BCE;KDE;GVC;EYC;GZM;CDC"},"hasCjsExports":false},"type":"js/module"}]}