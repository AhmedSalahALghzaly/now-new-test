{"dependencies":[{"name":"./chunk-PXG64RU4.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":29,"index":85}}],"key":"95n72RjXuns6nOHwcOieKivptHg=","exportNames":["*"],"imports":1}},{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":111},"end":{"line":8,"column":49,"index":160}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":161},"end":{"line":9,"column":38,"index":199}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"OnlineManager\", {\n    enumerable: true,\n    get: function () {\n      return OnlineManager;\n    }\n  });\n  Object.defineProperty(exports, \"onlineManager\", {\n    enumerable: true,\n    get: function () {\n      return onlineManager;\n    }\n  });\n  var _chunkPXG64RU4Js = require(_dependencyMap[0], \"./chunk-PXG64RU4.js\");\n  var _subscribableJs = require(_dependencyMap[1], \"./subscribable.js\");\n  var _utilsJs = require(_dependencyMap[2], \"./utils.js\");\n  // src/onlineManager.ts\n\n  var _online, _cleanup, _setup;\n  var OnlineManager = class extends _subscribableJs.Subscribable {\n    constructor() {\n      super();\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _online, true);\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _cleanup);\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _setup);\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _setup, onOnline => {\n        if (!_utilsJs.isServer && window.addEventListener) {\n          const onlineListener = () => onOnline(true);\n          const offlineListener = () => onOnline(false);\n          window.addEventListener(\"online\", onlineListener, false);\n          window.addEventListener(\"offline\", offlineListener, false);\n          return () => {\n            window.removeEventListener(\"online\", onlineListener);\n            window.removeEventListener(\"offline\", offlineListener);\n          };\n        }\n        return;\n      });\n    }\n    onSubscribe() {\n      if (!(0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) {\n        this.setEventListener((0, _chunkPXG64RU4Js.__privateGet)(this, _setup));\n      }\n    }\n    onUnsubscribe() {\n      var _a;\n      if (!this.hasListeners()) {\n        (_a = (0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) == null ? void 0 : _a.call(this);\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _cleanup, void 0);\n      }\n    }\n    setEventListener(setup) {\n      var _a;\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _setup, setup);\n      (_a = (0, _chunkPXG64RU4Js.__privateGet)(this, _cleanup)) == null ? void 0 : _a.call(this);\n      (0, _chunkPXG64RU4Js.__privateSet)(this, _cleanup, setup(this.setOnline.bind(this)));\n    }\n    setOnline(online) {\n      const changed = (0, _chunkPXG64RU4Js.__privateGet)(this, _online) !== online;\n      if (changed) {\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _online, online);\n        this.listeners.forEach(listener => {\n          listener(online);\n        });\n      }\n    }\n    isOnline() {\n      return (0, _chunkPXG64RU4Js.__privateGet)(this, _online);\n    }\n  };\n  _online = new WeakMap();\n  _cleanup = new WeakMap();\n  _setup = new WeakMap();\n  var onlineManager = new OnlineManager();\n});","lineCount":80,"map":[[7,2,66,0,"Object"],[7,8,66,0],[7,9,66,0,"defineProperty"],[7,23,66,0],[7,24,66,0,"exports"],[7,31,66,0],[8,4,66,0,"enumerable"],[8,14,66,0],[9,4,66,0,"get"],[9,7,66,0],[9,18,66,0,"get"],[9,19,66,0],[10,6,66,0],[10,13,67,2,"OnlineManager"],[10,26,67,15],[11,4,67,15],[12,2,67,15],[13,2,66,0,"Object"],[13,8,66,0],[13,9,66,0,"defineProperty"],[13,23,66,0],[13,24,66,0,"exports"],[13,31,66,0],[14,4,66,0,"enumerable"],[14,14,66,0],[15,4,66,0,"get"],[15,7,66,0],[15,18,66,0,"get"],[15,19,66,0],[16,6,66,0],[16,13,68,2,"onlineManager"],[16,26,68,15],[17,4,68,15],[18,2,68,15],[19,2,1,0],[19,6,1,0,"_chunkPXG64RU4Js"],[19,22,1,0],[19,25,1,0,"require"],[19,32,1,0],[19,33,1,0,"_dependencyMap"],[19,47,1,0],[20,2,8,0],[20,6,8,0,"_subscribableJs"],[20,21,8,0],[20,24,8,0,"require"],[20,31,8,0],[20,32,8,0,"_dependencyMap"],[20,46,8,0],[21,2,9,0],[21,6,9,0,"_utilsJs"],[21,14,9,0],[21,17,9,0,"require"],[21,24,9,0],[21,25,9,0,"_dependencyMap"],[21,39,9,0],[22,2,7,0],[24,2,10,0],[24,6,10,4,"_online"],[24,13,10,11],[24,15,10,13,"_cleanup"],[24,23,10,21],[24,25,10,23,"_setup"],[24,31,10,29],[25,2,11,0],[25,6,11,4,"OnlineManager"],[25,19,11,17],[25,22,11,20],[25,36,11,34,"Subscribable"],[25,51,11,46],[25,52,11,46,"Subscribable"],[25,64,11,46],[25,65,11,47],[26,4,12,2,"constructor"],[26,15,12,13,"constructor"],[26,16,12,13],[26,18,12,16],[27,6,13,4],[27,11,13,9],[27,12,13,10],[27,13,13,11],[28,6,14,4],[28,10,14,4,"__privateAdd"],[28,26,14,16],[28,27,14,16,"__privateAdd"],[28,39,14,16],[28,41,14,17],[28,45,14,21],[28,47,14,23,"_online"],[28,54,14,30],[28,56,14,32],[28,60,14,36],[28,61,14,37],[29,6,15,4],[29,10,15,4,"__privateAdd"],[29,26,15,16],[29,27,15,16,"__privateAdd"],[29,39,15,16],[29,41,15,17],[29,45,15,21],[29,47,15,23,"_cleanup"],[29,55,15,31],[29,56,15,32],[30,6,16,4],[30,10,16,4,"__privateAdd"],[30,26,16,16],[30,27,16,16,"__privateAdd"],[30,39,16,16],[30,41,16,17],[30,45,16,21],[30,47,16,23,"_setup"],[30,53,16,29],[30,54,16,30],[31,6,17,4],[31,10,17,4,"__privateSet"],[31,26,17,16],[31,27,17,16,"__privateSet"],[31,39,17,16],[31,41,17,17],[31,45,17,21],[31,47,17,23,"_setup"],[31,53,17,29],[31,55,17,32,"onOnline"],[31,63,17,40],[31,67,17,45],[32,8,18,6],[32,12,18,10],[32,13,18,11,"isServer"],[32,21,18,19],[32,22,18,19,"isServer"],[32,30,18,19],[32,34,18,23,"window"],[32,40,18,29],[32,41,18,30,"addEventListener"],[32,57,18,46],[32,59,18,48],[33,10,19,8],[33,16,19,14,"onlineListener"],[33,30,19,28],[33,33,19,31,"onlineListener"],[33,34,19,31],[33,39,19,37,"onOnline"],[33,47,19,45],[33,48,19,46],[33,52,19,50],[33,53,19,51],[34,10,20,8],[34,16,20,14,"offlineListener"],[34,31,20,29],[34,34,20,32,"offlineListener"],[34,35,20,32],[34,40,20,38,"onOnline"],[34,48,20,46],[34,49,20,47],[34,54,20,52],[34,55,20,53],[35,10,21,8,"window"],[35,16,21,14],[35,17,21,15,"addEventListener"],[35,33,21,31],[35,34,21,32],[35,42,21,40],[35,44,21,42,"onlineListener"],[35,58,21,56],[35,60,21,58],[35,65,21,63],[35,66,21,64],[36,10,22,8,"window"],[36,16,22,14],[36,17,22,15,"addEventListener"],[36,33,22,31],[36,34,22,32],[36,43,22,41],[36,45,22,43,"offlineListener"],[36,60,22,58],[36,62,22,60],[36,67,22,65],[36,68,22,66],[37,10,23,8],[37,17,23,15],[37,23,23,21],[38,12,24,10,"window"],[38,18,24,16],[38,19,24,17,"removeEventListener"],[38,38,24,36],[38,39,24,37],[38,47,24,45],[38,49,24,47,"onlineListener"],[38,63,24,61],[38,64,24,62],[39,12,25,10,"window"],[39,18,25,16],[39,19,25,17,"removeEventListener"],[39,38,25,36],[39,39,25,37],[39,48,25,46],[39,50,25,48,"offlineListener"],[39,65,25,63],[39,66,25,64],[40,10,26,8],[40,11,26,9],[41,8,27,6],[42,8,28,6],[43,6,29,4],[43,7,29,5],[43,8,29,6],[44,4,30,2],[45,4,31,2,"onSubscribe"],[45,15,31,13,"onSubscribe"],[45,16,31,13],[45,18,31,16],[46,6,32,4],[46,10,32,8],[46,11,32,9],[46,15,32,9,"__privateGet"],[46,31,32,21],[46,32,32,21,"__privateGet"],[46,44,32,21],[46,46,32,22],[46,50,32,26],[46,52,32,28,"_cleanup"],[46,60,32,36],[46,61,32,37],[46,63,32,39],[47,8,33,6],[47,12,33,10],[47,13,33,11,"setEventListener"],[47,29,33,27],[47,30,33,28],[47,34,33,28,"__privateGet"],[47,50,33,40],[47,51,33,40,"__privateGet"],[47,63,33,40],[47,65,33,41],[47,69,33,45],[47,71,33,47,"_setup"],[47,77,33,53],[47,78,33,54],[47,79,33,55],[48,6,34,4],[49,4,35,2],[50,4,36,2,"onUnsubscribe"],[50,17,36,15,"onUnsubscribe"],[50,18,36,15],[50,20,36,18],[51,6,37,4],[51,10,37,8,"_a"],[51,12,37,10],[52,6,38,4],[52,10,38,8],[52,11,38,9],[52,15,38,13],[52,16,38,14,"hasListeners"],[52,28,38,26],[52,29,38,27],[52,30,38,28],[52,32,38,30],[53,8,39,6],[53,9,39,7,"_a"],[53,11,39,9],[53,14,39,12],[53,18,39,12,"__privateGet"],[53,34,39,24],[53,35,39,24,"__privateGet"],[53,47,39,24],[53,49,39,25],[53,53,39,29],[53,55,39,31,"_cleanup"],[53,63,39,39],[53,64,39,40],[53,69,39,45],[53,73,39,49],[53,76,39,52],[53,81,39,57],[53,82,39,58],[53,85,39,61,"_a"],[53,87,39,63],[53,88,39,64,"call"],[53,92,39,68],[53,93,39,69],[53,97,39,73],[53,98,39,74],[54,8,40,6],[54,12,40,6,"__privateSet"],[54,28,40,18],[54,29,40,18,"__privateSet"],[54,41,40,18],[54,43,40,19],[54,47,40,23],[54,49,40,25,"_cleanup"],[54,57,40,33],[54,59,40,35],[54,64,40,40],[54,65,40,41],[54,66,40,42],[55,6,41,4],[56,4,42,2],[57,4,43,2,"setEventListener"],[57,20,43,18,"setEventListener"],[57,21,43,19,"setup"],[57,26,43,24],[57,28,43,26],[58,6,44,4],[58,10,44,8,"_a"],[58,12,44,10],[59,6,45,4],[59,10,45,4,"__privateSet"],[59,26,45,16],[59,27,45,16,"__privateSet"],[59,39,45,16],[59,41,45,17],[59,45,45,21],[59,47,45,23,"_setup"],[59,53,45,29],[59,55,45,31,"setup"],[59,60,45,36],[59,61,45,37],[60,6,46,4],[60,7,46,5,"_a"],[60,9,46,7],[60,12,46,10],[60,16,46,10,"__privateGet"],[60,32,46,22],[60,33,46,22,"__privateGet"],[60,45,46,22],[60,47,46,23],[60,51,46,27],[60,53,46,29,"_cleanup"],[60,61,46,37],[60,62,46,38],[60,67,46,43],[60,71,46,47],[60,74,46,50],[60,79,46,55],[60,80,46,56],[60,83,46,59,"_a"],[60,85,46,61],[60,86,46,62,"call"],[60,90,46,66],[60,91,46,67],[60,95,46,71],[60,96,46,72],[61,6,47,4],[61,10,47,4,"__privateSet"],[61,26,47,16],[61,27,47,16,"__privateSet"],[61,39,47,16],[61,41,47,17],[61,45,47,21],[61,47,47,23,"_cleanup"],[61,55,47,31],[61,57,47,33,"setup"],[61,62,47,38],[61,63,47,39],[61,67,47,43],[61,68,47,44,"setOnline"],[61,77,47,53],[61,78,47,54,"bind"],[61,82,47,58],[61,83,47,59],[61,87,47,63],[61,88,47,64],[61,89,47,65],[61,90,47,66],[62,4,48,2],[63,4,49,2,"setOnline"],[63,13,49,11,"setOnline"],[63,14,49,12,"online"],[63,20,49,18],[63,22,49,20],[64,6,50,4],[64,12,50,10,"changed"],[64,19,50,17],[64,22,50,20],[64,26,50,20,"__privateGet"],[64,42,50,32],[64,43,50,32,"__privateGet"],[64,55,50,32],[64,57,50,33],[64,61,50,37],[64,63,50,39,"_online"],[64,70,50,46],[64,71,50,47],[64,76,50,52,"online"],[64,82,50,58],[65,6,51,4],[65,10,51,8,"changed"],[65,17,51,15],[65,19,51,17],[66,8,52,6],[66,12,52,6,"__privateSet"],[66,28,52,18],[66,29,52,18,"__privateSet"],[66,41,52,18],[66,43,52,19],[66,47,52,23],[66,49,52,25,"_online"],[66,56,52,32],[66,58,52,34,"online"],[66,64,52,40],[66,65,52,41],[67,8,53,6],[67,12,53,10],[67,13,53,11,"listeners"],[67,22,53,20],[67,23,53,21,"forEach"],[67,30,53,28],[67,31,53,30,"listener"],[67,39,53,38],[67,43,53,43],[68,10,54,8,"listener"],[68,18,54,16],[68,19,54,17,"online"],[68,25,54,23],[68,26,54,24],[69,8,55,6],[69,9,55,7],[69,10,55,8],[70,6,56,4],[71,4,57,2],[72,4,58,2,"isOnline"],[72,12,58,10,"isOnline"],[72,13,58,10],[72,15,58,13],[73,6,59,4],[73,13,59,11],[73,17,59,11,"__privateGet"],[73,33,59,23],[73,34,59,23,"__privateGet"],[73,46,59,23],[73,48,59,24],[73,52,59,28],[73,54,59,30,"_online"],[73,61,59,37],[73,62,59,38],[74,4,60,2],[75,2,61,0],[75,3,61,1],[76,2,62,0,"_online"],[76,9,62,7],[76,12,62,10],[76,16,62,14,"WeakMap"],[76,23,62,21],[76,24,62,22],[76,25,62,23],[77,2,63,0,"_cleanup"],[77,10,63,8],[77,13,63,11],[77,17,63,15,"WeakMap"],[77,24,63,22],[77,25,63,23],[77,26,63,24],[78,2,64,0,"_setup"],[78,8,64,6],[78,11,64,9],[78,15,64,13,"WeakMap"],[78,22,64,20],[78,23,64,21],[78,24,64,22],[79,2,65,0],[79,6,65,4,"onlineManager"],[79,19,65,17],[79,22,65,20],[79,26,65,24,"OnlineManager"],[79,39,65,37],[79,40,65,38],[79,41,65,39],[80,0,65,40],[80,3]],"functionMap":{"names":["<global>","OnlineManager","OnlineManager#constructor","__privateSet$argument_2","onlineListener","offlineListener","<anonymous>","OnlineManager#onSubscribe","OnlineManager#onUnsubscribe","OnlineManager#setEventListener","OnlineManager#setOnline","listeners.forEach$argument_0","OnlineManager#isOnline"],"mappings":"AAA;oBCU;ECC;+BCK;+BCE,oBD;gCEC,qBF;eGG;SHG;KDG;GDC;EMC;GNI;EOC;GPM;EQC;GRK;ESC;6BCI;ODE;GTE;EWC;GXE;CDC"},"hasCjsExports":false},"type":"js/module"}]}