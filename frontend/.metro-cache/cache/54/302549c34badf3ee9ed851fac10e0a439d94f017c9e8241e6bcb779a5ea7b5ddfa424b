{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":215},"end":{"line":6,"column":45,"index":260}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":261},"end":{"line":7,"column":51,"index":312}}],"key":"n0CCSj0uILqMB2ZG0ZFwUPWKa9s=","exportNames":["*"],"imports":1}},{"name":"../queries","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":313},"end":{"line":11,"column":20,"index":397}}],"key":"vBqSlLX3RDp+sEQjec929LcVMrw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * useShoppingHubData - Main data fetching and state management hook\n   * FIXED: Removed recursive state updates that caused infinite re-renders\n   * Uses React Query as the single source of truth for cart data\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useShoppingHubData\", {\n    enumerable: true,\n    get: function () {\n      return useShoppingHubData;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _storeAppStore = require(_dependencyMap[1], \"../../store/appStore\");\n  var _queries = require(_dependencyMap[2], \"../queries\");\n  /**\n   * Main hook for shopping hub data - uses React Query as single source of truth\n   * FIXED: No longer syncs to Zustand from here to prevent infinite loops\n   */\n  const useShoppingHubData = ({\n    customerId,\n    customerData,\n    isAdminView\n  }) => {\n    _s();\n    const user = (0, _storeAppStore.useAppStore)(state => state.user);\n\n    // Determine target user\n    const targetUserId = customerId || user?.id;\n    const isOwnProfile = !isAdminView && !customerId;\n\n    // Use React Query hooks for data fetching\n    const userDataQuery = (0, _queries.useShoppingHubQuery)(!isAdminView && isOwnProfile);\n    const customerDataQuery = (0, _queries.useCustomerShoppingDataQuery)(customerId, isAdminView && !!customerId);\n\n    // Derive state from queries\n    const loading = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.isLoading;\n      }\n      return userDataQuery.isLoading;\n    }, [isAdminView, customerId, customerDataQuery.isLoading, userDataQuery.isLoading]);\n    const refreshing = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.isRefetching;\n      }\n      return userDataQuery.isRefetching;\n    }, [isAdminView, customerId, customerDataQuery.isRefetching, userDataQuery.isRefetching]);\n    const favorites = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.favorites;\n      }\n      return userDataQuery.favorites;\n    }, [isAdminView, customerId, customerDataQuery.favorites, userDataQuery.favorites]);\n    const cartItems = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.cart;\n      }\n      return userDataQuery.cartItems;\n    }, [isAdminView, customerId, customerDataQuery.cart, userDataQuery.cartItems]);\n    const orders = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerDataQuery.orders;\n      }\n      return userDataQuery.orders;\n    }, [isAdminView, customerId, customerDataQuery.orders, userDataQuery.orders]);\n    const profileData = (0, _react.useMemo)(() => {\n      if (isAdminView && customerId) {\n        return customerData;\n      }\n      return userDataQuery.profileData;\n    }, [isAdminView, customerId, customerData, userDataQuery.profileData]);\n\n    // Refresh function\n    const onRefresh = (0, _react.useCallback)(() => {\n      if (isAdminView && customerId) {\n        customerDataQuery.refetch();\n      } else {\n        userDataQuery.refetch();\n      }\n    }, [isAdminView, customerId, customerDataQuery, userDataQuery]);\n\n    // Load data function (for backward compatibility)\n    const loadData = (0, _react.useCallback)(() => {\n      onRefresh();\n    }, [onRefresh]);\n\n    // Stub functions for backward compatibility - no longer needed\n    const setFavorites = (0, _react.useCallback)(() => {}, []);\n    const setLocalCartItems = (0, _react.useCallback)(() => {}, []);\n    const setOrders = (0, _react.useCallback)(() => {}, []);\n    return {\n      loading,\n      refreshing,\n      favorites,\n      cartItems,\n      orders,\n      profileData,\n      targetUserId,\n      isOwnProfile,\n      loadData,\n      onRefresh,\n      setFavorites,\n      setLocalCartItems,\n      setOrders\n    };\n  };\n  _s(useShoppingHubData, \"iWEAMyV1upRyPz/QH7AjKeSLCzk=\", false, function () {\n    return [_storeAppStore.useAppStore, _queries.useShoppingHubQuery, _queries.useCustomerShoppingDataQuery];\n  });\n  var _default = useShoppingHubData;\n});","lineCount":124,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,0,5,0],[10,2,1,0,"Object"],[10,8,1,0],[10,9,1,0,"defineProperty"],[10,23,1,0],[10,24,1,0,"exports"],[10,31,1,0],[11,4,1,0,"value"],[11,9,1,0],[12,2,1,0],[13,2,129,0,"Object"],[13,8,129,0],[13,9,129,0,"defineProperty"],[13,23,129,0],[13,24,129,0,"exports"],[13,31,129,0],[14,4,129,0,"enumerable"],[14,14,129,0],[15,4,129,0,"get"],[15,7,129,0],[15,18,129,0,"get"],[15,19,129,0],[16,6,129,0],[16,13,129,0,"_default"],[16,21,129,0],[17,4,129,0],[18,2,129,0],[19,2,32,0,"Object"],[19,8,32,0],[19,9,32,0,"defineProperty"],[19,23,32,0],[19,24,32,0,"exports"],[19,31,32,0],[20,4,32,0,"enumerable"],[20,14,32,0],[21,4,32,0,"get"],[21,7,32,0],[21,18,32,0,"get"],[21,19,32,0],[22,6,32,0],[22,13,32,0,"useShoppingHubData"],[22,31,32,0],[23,4,32,0],[24,2,32,0],[25,2,6,0],[25,6,6,0,"_react"],[25,12,6,0],[25,15,6,0,"require"],[25,22,6,0],[25,23,6,0,"_dependencyMap"],[25,37,6,0],[26,2,7,0],[26,6,7,0,"_storeAppStore"],[26,20,7,0],[26,23,7,0,"require"],[26,30,7,0],[26,31,7,0,"_dependencyMap"],[26,45,7,0],[27,2,8,0],[27,6,8,0,"_queries"],[27,14,8,0],[27,17,8,0,"require"],[27,24,8,0],[27,25,8,0,"_dependencyMap"],[27,39,8,0],[28,2,28,0],[29,0,29,0],[30,0,30,0],[31,0,31,0],[32,2,32,7],[32,8,32,13,"useShoppingHubData"],[32,26,32,31],[32,29,32,34,"useShoppingHubData"],[32,30,32,35],[33,4,33,2,"customerId"],[33,14,33,12],[34,4,34,2,"customerData"],[34,16,34,14],[35,4,35,2,"isAdminView"],[36,2,36,25],[36,3,36,26],[36,8,36,31],[37,4,36,31,"_s"],[37,6,36,31],[38,4,37,2],[38,10,37,8,"user"],[38,14,37,12],[38,17,37,15],[38,21,37,15,"useAppStore"],[38,35,37,26],[38,36,37,26,"useAppStore"],[38,47,37,26],[38,49,37,28,"state"],[38,54,37,33],[38,58,37,38,"state"],[38,63,37,43],[38,64,37,44,"user"],[38,68,37,48],[38,69,37,49],[40,4,39,2],[41,4,40,2],[41,10,40,8,"targetUserId"],[41,22,40,20],[41,25,40,23,"customerId"],[41,35,40,33],[41,39,40,37,"user"],[41,43,40,41],[41,45,40,43,"id"],[41,47,40,45],[42,4,41,2],[42,10,41,8,"isOwnProfile"],[42,22,41,20],[42,25,41,23],[42,26,41,24,"isAdminView"],[42,37,41,35],[42,41,41,39],[42,42,41,40,"customerId"],[42,52,41,50],[44,4,43,2],[45,4,44,2],[45,10,44,8,"userDataQuery"],[45,23,44,21],[45,26,44,24],[45,30,44,24,"useShoppingHubQuery"],[45,38,44,43],[45,39,44,43,"useShoppingHubQuery"],[45,58,44,43],[45,60,44,44],[45,61,44,45,"isAdminView"],[45,72,44,56],[45,76,44,60,"isOwnProfile"],[45,88,44,72],[45,89,44,73],[46,4,45,2],[46,10,45,8,"customerDataQuery"],[46,27,45,25],[46,30,45,28],[46,34,45,28,"useCustomerShoppingDataQuery"],[46,42,45,56],[46,43,45,56,"useCustomerShoppingDataQuery"],[46,71,45,56],[46,73,46,4,"customerId"],[46,83,46,14],[46,85,47,4,"isAdminView"],[46,96,47,15],[46,100,47,19],[46,101,47,20],[46,102,47,21,"customerId"],[46,112,48,2],[46,113,48,3],[48,4,50,2],[49,4,51,2],[49,10,51,8,"loading"],[49,17,51,15],[49,20,51,18],[49,24,51,18,"useMemo"],[49,30,51,25],[49,31,51,25,"useMemo"],[49,38,51,25],[49,40,51,26],[49,46,51,32],[50,6,52,4],[50,10,52,8,"isAdminView"],[50,21,52,19],[50,25,52,23,"customerId"],[50,35,52,33],[50,37,52,35],[51,8,53,6],[51,15,53,13,"customerDataQuery"],[51,32,53,30],[51,33,53,31,"isLoading"],[51,42,53,40],[52,6,54,4],[53,6,55,4],[53,13,55,11,"userDataQuery"],[53,26,55,24],[53,27,55,25,"isLoading"],[53,36,55,34],[54,4,56,2],[54,5,56,3],[54,7,56,5],[54,8,56,6,"isAdminView"],[54,19,56,17],[54,21,56,19,"customerId"],[54,31,56,29],[54,33,56,31,"customerDataQuery"],[54,50,56,48],[54,51,56,49,"isLoading"],[54,60,56,58],[54,62,56,60,"userDataQuery"],[54,75,56,73],[54,76,56,74,"isLoading"],[54,85,56,83],[54,86,56,84],[54,87,56,85],[55,4,58,2],[55,10,58,8,"refreshing"],[55,20,58,18],[55,23,58,21],[55,27,58,21,"useMemo"],[55,33,58,28],[55,34,58,28,"useMemo"],[55,41,58,28],[55,43,58,29],[55,49,58,35],[56,6,59,4],[56,10,59,8,"isAdminView"],[56,21,59,19],[56,25,59,23,"customerId"],[56,35,59,33],[56,37,59,35],[57,8,60,6],[57,15,60,13,"customerDataQuery"],[57,32,60,30],[57,33,60,31,"isRefetching"],[57,45,60,43],[58,6,61,4],[59,6,62,4],[59,13,62,11,"userDataQuery"],[59,26,62,24],[59,27,62,25,"isRefetching"],[59,39,62,37],[60,4,63,2],[60,5,63,3],[60,7,63,5],[60,8,63,6,"isAdminView"],[60,19,63,17],[60,21,63,19,"customerId"],[60,31,63,29],[60,33,63,31,"customerDataQuery"],[60,50,63,48],[60,51,63,49,"isRefetching"],[60,63,63,61],[60,65,63,63,"userDataQuery"],[60,78,63,76],[60,79,63,77,"isRefetching"],[60,91,63,89],[60,92,63,90],[60,93,63,91],[61,4,65,2],[61,10,65,8,"favorites"],[61,19,65,17],[61,22,65,20],[61,26,65,20,"useMemo"],[61,32,65,27],[61,33,65,27,"useMemo"],[61,40,65,27],[61,42,65,28],[61,48,65,34],[62,6,66,4],[62,10,66,8,"isAdminView"],[62,21,66,19],[62,25,66,23,"customerId"],[62,35,66,33],[62,37,66,35],[63,8,67,6],[63,15,67,13,"customerDataQuery"],[63,32,67,30],[63,33,67,31,"favorites"],[63,42,67,40],[64,6,68,4],[65,6,69,4],[65,13,69,11,"userDataQuery"],[65,26,69,24],[65,27,69,25,"favorites"],[65,36,69,34],[66,4,70,2],[66,5,70,3],[66,7,70,5],[66,8,70,6,"isAdminView"],[66,19,70,17],[66,21,70,19,"customerId"],[66,31,70,29],[66,33,70,31,"customerDataQuery"],[66,50,70,48],[66,51,70,49,"favorites"],[66,60,70,58],[66,62,70,60,"userDataQuery"],[66,75,70,73],[66,76,70,74,"favorites"],[66,85,70,83],[66,86,70,84],[66,87,70,85],[67,4,72,2],[67,10,72,8,"cartItems"],[67,19,72,17],[67,22,72,20],[67,26,72,20,"useMemo"],[67,32,72,27],[67,33,72,27,"useMemo"],[67,40,72,27],[67,42,72,28],[67,48,72,34],[68,6,73,4],[68,10,73,8,"isAdminView"],[68,21,73,19],[68,25,73,23,"customerId"],[68,35,73,33],[68,37,73,35],[69,8,74,6],[69,15,74,13,"customerDataQuery"],[69,32,74,30],[69,33,74,31,"cart"],[69,37,74,35],[70,6,75,4],[71,6,76,4],[71,13,76,11,"userDataQuery"],[71,26,76,24],[71,27,76,25,"cartItems"],[71,36,76,34],[72,4,77,2],[72,5,77,3],[72,7,77,5],[72,8,77,6,"isAdminView"],[72,19,77,17],[72,21,77,19,"customerId"],[72,31,77,29],[72,33,77,31,"customerDataQuery"],[72,50,77,48],[72,51,77,49,"cart"],[72,55,77,53],[72,57,77,55,"userDataQuery"],[72,70,77,68],[72,71,77,69,"cartItems"],[72,80,77,78],[72,81,77,79],[72,82,77,80],[73,4,79,2],[73,10,79,8,"orders"],[73,16,79,14],[73,19,79,17],[73,23,79,17,"useMemo"],[73,29,79,24],[73,30,79,24,"useMemo"],[73,37,79,24],[73,39,79,25],[73,45,79,31],[74,6,80,4],[74,10,80,8,"isAdminView"],[74,21,80,19],[74,25,80,23,"customerId"],[74,35,80,33],[74,37,80,35],[75,8,81,6],[75,15,81,13,"customerDataQuery"],[75,32,81,30],[75,33,81,31,"orders"],[75,39,81,37],[76,6,82,4],[77,6,83,4],[77,13,83,11,"userDataQuery"],[77,26,83,24],[77,27,83,25,"orders"],[77,33,83,31],[78,4,84,2],[78,5,84,3],[78,7,84,5],[78,8,84,6,"isAdminView"],[78,19,84,17],[78,21,84,19,"customerId"],[78,31,84,29],[78,33,84,31,"customerDataQuery"],[78,50,84,48],[78,51,84,49,"orders"],[78,57,84,55],[78,59,84,57,"userDataQuery"],[78,72,84,70],[78,73,84,71,"orders"],[78,79,84,77],[78,80,84,78],[78,81,84,79],[79,4,86,2],[79,10,86,8,"profileData"],[79,21,86,19],[79,24,86,22],[79,28,86,22,"useMemo"],[79,34,86,29],[79,35,86,29,"useMemo"],[79,42,86,29],[79,44,86,30],[79,50,86,36],[80,6,87,4],[80,10,87,8,"isAdminView"],[80,21,87,19],[80,25,87,23,"customerId"],[80,35,87,33],[80,37,87,35],[81,8,88,6],[81,15,88,13,"customerData"],[81,27,88,25],[82,6,89,4],[83,6,90,4],[83,13,90,11,"userDataQuery"],[83,26,90,24],[83,27,90,25,"profileData"],[83,38,90,36],[84,4,91,2],[84,5,91,3],[84,7,91,5],[84,8,91,6,"isAdminView"],[84,19,91,17],[84,21,91,19,"customerId"],[84,31,91,29],[84,33,91,31,"customerData"],[84,45,91,43],[84,47,91,45,"userDataQuery"],[84,60,91,58],[84,61,91,59,"profileData"],[84,72,91,70],[84,73,91,71],[84,74,91,72],[86,4,93,2],[87,4,94,2],[87,10,94,8,"onRefresh"],[87,19,94,17],[87,22,94,20],[87,26,94,20,"useCallback"],[87,32,94,31],[87,33,94,31,"useCallback"],[87,44,94,31],[87,46,94,32],[87,52,94,38],[88,6,95,4],[88,10,95,8,"isAdminView"],[88,21,95,19],[88,25,95,23,"customerId"],[88,35,95,33],[88,37,95,35],[89,8,96,6,"customerDataQuery"],[89,25,96,23],[89,26,96,24,"refetch"],[89,33,96,31],[89,34,96,32],[89,35,96,33],[90,6,97,4],[90,7,97,5],[90,13,97,11],[91,8,98,6,"userDataQuery"],[91,21,98,19],[91,22,98,20,"refetch"],[91,29,98,27],[91,30,98,28],[91,31,98,29],[92,6,99,4],[93,4,100,2],[93,5,100,3],[93,7,100,5],[93,8,100,6,"isAdminView"],[93,19,100,17],[93,21,100,19,"customerId"],[93,31,100,29],[93,33,100,31,"customerDataQuery"],[93,50,100,48],[93,52,100,50,"userDataQuery"],[93,65,100,63],[93,66,100,64],[93,67,100,65],[95,4,102,2],[96,4,103,2],[96,10,103,8,"loadData"],[96,18,103,16],[96,21,103,19],[96,25,103,19,"useCallback"],[96,31,103,30],[96,32,103,30,"useCallback"],[96,43,103,30],[96,45,103,31],[96,51,103,37],[97,6,104,4,"onRefresh"],[97,15,104,13],[97,16,104,14],[97,17,104,15],[98,4,105,2],[98,5,105,3],[98,7,105,5],[98,8,105,6,"onRefresh"],[98,17,105,15],[98,18,105,16],[98,19,105,17],[100,4,107,2],[101,4,108,2],[101,10,108,8,"setFavorites"],[101,22,108,20],[101,25,108,23],[101,29,108,23,"useCallback"],[101,35,108,34],[101,36,108,34,"useCallback"],[101,47,108,34],[101,49,108,35],[101,55,108,41],[101,56,108,42],[101,57,108,43],[101,59,108,45],[101,61,108,47],[101,62,108,48],[102,4,109,2],[102,10,109,8,"setLocalCartItems"],[102,27,109,25],[102,30,109,28],[102,34,109,28,"useCallback"],[102,40,109,39],[102,41,109,39,"useCallback"],[102,52,109,39],[102,54,109,40],[102,60,109,46],[102,61,109,47],[102,62,109,48],[102,64,109,50],[102,66,109,52],[102,67,109,53],[103,4,110,2],[103,10,110,8,"setOrders"],[103,19,110,17],[103,22,110,20],[103,26,110,20,"useCallback"],[103,32,110,31],[103,33,110,31,"useCallback"],[103,44,110,31],[103,46,110,32],[103,52,110,38],[103,53,110,39],[103,54,110,40],[103,56,110,42],[103,58,110,44],[103,59,110,45],[104,4,112,2],[104,11,112,9],[105,6,113,4,"loading"],[105,13,113,11],[106,6,114,4,"refreshing"],[106,16,114,14],[107,6,115,4,"favorites"],[107,15,115,13],[108,6,116,4,"cartItems"],[108,15,116,13],[109,6,117,4,"orders"],[109,12,117,10],[110,6,118,4,"profileData"],[110,17,118,15],[111,6,119,4,"targetUserId"],[111,18,119,16],[112,6,120,4,"isOwnProfile"],[112,18,120,16],[113,6,121,4,"loadData"],[113,14,121,12],[114,6,122,4,"onRefresh"],[114,15,122,13],[115,6,123,4,"setFavorites"],[115,18,123,16],[116,6,124,4,"setLocalCartItems"],[116,23,124,21],[117,6,125,4,"setOrders"],[118,4,126,2],[118,5,126,3],[119,2,127,0],[119,3,127,1],[120,2,127,2,"_s"],[120,4,127,2],[120,5,32,13,"useShoppingHubData"],[120,23,32,31],[121,4,32,31],[121,12,37,15,"useAppStore"],[121,26,37,26],[121,27,37,26,"useAppStore"],[121,38,37,26],[121,40,44,24,"useShoppingHubQuery"],[121,48,44,43],[121,49,44,43,"useShoppingHubQuery"],[121,68,44,43],[121,70,45,28,"useCustomerShoppingDataQuery"],[121,78,45,56],[121,79,45,56,"useCustomerShoppingDataQuery"],[121,107,45,56],[122,2,45,56],[123,2,129,0],[123,6,129,0,"_default"],[123,14,129,0],[123,17,129,15,"useShoppingHubData"],[123,35,129,33],[124,0,129,34],[124,3]],"functionMap":{"names":["<global>","useShoppingHubData","useAppStore$argument_0","useMemo$argument_0","onRefresh","loadData","setFavorites","setLocalCartItems","setOrders"],"mappings":"AAA;kCC+B;2BCK,qBD;0BEc;GFK;6BEE;GFK;4BEE;GFK;4BEE;GFK;yBEE;GFK;8BEE;GFK;gCGG;GHM;+BIG;GJE;mCKG,QL;wCMC,QN;gCOC,QP;CDiB"},"hasCjsExports":false},"type":"js/module"}]}