{"dependencies":[{"name":"./chunk-PXG64RU4.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":5,"column":29,"index":85}}],"key":"95n72RjXuns6nOHwcOieKivptHg=","exportNames":["*"],"imports":1}},{"name":"./timeoutManager.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":107},"end":{"line":8,"column":53,"index":160}}],"key":"pyQHMhdGxfRLqgunhFS/8/ELubI=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":161},"end":{"line":9,"column":54,"index":215}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"Removable\", {\n    enumerable: true,\n    get: function () {\n      return Removable;\n    }\n  });\n  var _chunkPXG64RU4Js = require(_dependencyMap[0], \"./chunk-PXG64RU4.js\");\n  var _timeoutManagerJs = require(_dependencyMap[1], \"./timeoutManager.js\");\n  var _utilsJs = require(_dependencyMap[2], \"./utils.js\");\n  // src/removable.ts\n\n  var _gcTimeout;\n  var Removable = class {\n    constructor() {\n      (0, _chunkPXG64RU4Js.__privateAdd)(this, _gcTimeout);\n    }\n    destroy() {\n      this.clearGcTimeout();\n    }\n    scheduleGc() {\n      this.clearGcTimeout();\n      if ((0, _utilsJs.isValidTimeout)(this.gcTime)) {\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _gcTimeout, _timeoutManagerJs.timeoutManager.setTimeout(() => {\n          this.optionalRemove();\n        }, this.gcTime));\n      }\n    }\n    updateGcTime(newGcTime) {\n      this.gcTime = Math.max(this.gcTime || 0, newGcTime ?? (_utilsJs.isServer ? Infinity : 5 * 60 * 1e3));\n    }\n    clearGcTimeout() {\n      if ((0, _chunkPXG64RU4Js.__privateGet)(this, _gcTimeout)) {\n        _timeoutManagerJs.timeoutManager.clearTimeout((0, _chunkPXG64RU4Js.__privateGet)(this, _gcTimeout));\n        (0, _chunkPXG64RU4Js.__privateSet)(this, _gcTimeout, void 0);\n      }\n    }\n  };\n  _gcTimeout = new WeakMap();\n});","lineCount":45,"map":[[7,2,40,0,"Object"],[7,8,40,0],[7,9,40,0,"defineProperty"],[7,23,40,0],[7,24,40,0,"exports"],[7,31,40,0],[8,4,40,0,"enumerable"],[8,14,40,0],[9,4,40,0,"get"],[9,7,40,0],[9,18,40,0,"get"],[9,19,40,0],[10,6,40,0],[10,13,41,2,"Removable"],[10,22,41,11],[11,4,41,11],[12,2,41,11],[13,2,1,0],[13,6,1,0,"_chunkPXG64RU4Js"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,8,0],[14,6,8,0,"_timeoutManagerJs"],[14,23,8,0],[14,26,8,0,"require"],[14,33,8,0],[14,34,8,0,"_dependencyMap"],[14,48,8,0],[15,2,9,0],[15,6,9,0,"_utilsJs"],[15,14,9,0],[15,17,9,0,"require"],[15,24,9,0],[15,25,9,0,"_dependencyMap"],[15,39,9,0],[16,2,7,0],[18,2,10,0],[18,6,10,4,"_gcTimeout"],[18,16,10,14],[19,2,11,0],[19,6,11,4,"Removable"],[19,15,11,13],[19,18,11,16],[19,24,11,22],[20,4,12,2,"constructor"],[20,15,12,13,"constructor"],[20,16,12,13],[20,18,12,16],[21,6,13,4],[21,10,13,4,"__privateAdd"],[21,26,13,16],[21,27,13,16,"__privateAdd"],[21,39,13,16],[21,41,13,17],[21,45,13,21],[21,47,13,23,"_gcTimeout"],[21,57,13,33],[21,58,13,34],[22,4,14,2],[23,4,15,2,"destroy"],[23,11,15,9,"destroy"],[23,12,15,9],[23,14,15,12],[24,6,16,4],[24,10,16,8],[24,11,16,9,"clearGcTimeout"],[24,25,16,23],[24,26,16,24],[24,27,16,25],[25,4,17,2],[26,4,18,2,"scheduleGc"],[26,14,18,12,"scheduleGc"],[26,15,18,12],[26,17,18,15],[27,6,19,4],[27,10,19,8],[27,11,19,9,"clearGcTimeout"],[27,25,19,23],[27,26,19,24],[27,27,19,25],[28,6,20,4],[28,10,20,8],[28,14,20,8,"isValidTimeout"],[28,22,20,22],[28,23,20,22,"isValidTimeout"],[28,37,20,22],[28,39,20,23],[28,43,20,27],[28,44,20,28,"gcTime"],[28,50,20,34],[28,51,20,35],[28,53,20,37],[29,8,21,6],[29,12,21,6,"__privateSet"],[29,28,21,18],[29,29,21,18,"__privateSet"],[29,41,21,18],[29,43,21,19],[29,47,21,23],[29,49,21,25,"_gcTimeout"],[29,59,21,35],[29,61,21,37,"timeoutManager"],[29,78,21,51],[29,79,21,51,"timeoutManager"],[29,93,21,51],[29,94,21,52,"setTimeout"],[29,104,21,62],[29,105,21,63],[29,111,21,69],[30,10,22,8],[30,14,22,12],[30,15,22,13,"optionalRemove"],[30,29,22,27],[30,30,22,28],[30,31,22,29],[31,8,23,6],[31,9,23,7],[31,11,23,9],[31,15,23,13],[31,16,23,14,"gcTime"],[31,22,23,20],[31,23,23,21],[31,24,23,22],[32,6,24,4],[33,4,25,2],[34,4,26,2,"updateGcTime"],[34,16,26,14,"updateGcTime"],[34,17,26,15,"newGcTime"],[34,26,26,24],[34,28,26,26],[35,6,27,4],[35,10,27,8],[35,11,27,9,"gcTime"],[35,17,27,15],[35,20,27,18,"Math"],[35,24,27,22],[35,25,27,23,"max"],[35,28,27,26],[35,29,28,6],[35,33,28,10],[35,34,28,11,"gcTime"],[35,40,28,17],[35,44,28,21],[35,45,28,22],[35,47,29,6,"newGcTime"],[35,56,29,15],[35,61,29,20,"isServer"],[35,69,29,28],[35,70,29,28,"isServer"],[35,78,29,28],[35,81,29,31,"Infinity"],[35,89,29,39],[35,92,29,42],[35,93,29,43],[35,96,29,46],[35,98,29,48],[35,101,29,51],[35,104,29,54],[35,105,30,4],[35,106,30,5],[36,4,31,2],[37,4,32,2,"clearGcTimeout"],[37,18,32,16,"clearGcTimeout"],[37,19,32,16],[37,21,32,19],[38,6,33,4],[38,10,33,8],[38,14,33,8,"__privateGet"],[38,30,33,20],[38,31,33,20,"__privateGet"],[38,43,33,20],[38,45,33,21],[38,49,33,25],[38,51,33,27,"_gcTimeout"],[38,61,33,37],[38,62,33,38],[38,64,33,40],[39,8,34,6,"timeoutManager"],[39,25,34,20],[39,26,34,20,"timeoutManager"],[39,40,34,20],[39,41,34,21,"clearTimeout"],[39,53,34,33],[39,54,34,34],[39,58,34,34,"__privateGet"],[39,74,34,46],[39,75,34,46,"__privateGet"],[39,87,34,46],[39,89,34,47],[39,93,34,51],[39,95,34,53,"_gcTimeout"],[39,105,34,63],[39,106,34,64],[39,107,34,65],[40,8,35,6],[40,12,35,6,"__privateSet"],[40,28,35,18],[40,29,35,18,"__privateSet"],[40,41,35,18],[40,43,35,19],[40,47,35,23],[40,49,35,25,"_gcTimeout"],[40,59,35,35],[40,61,35,37],[40,66,35,42],[40,67,35,43],[40,68,35,44],[41,6,36,4],[42,4,37,2],[43,2,38,0],[43,3,38,1],[44,2,39,0,"_gcTimeout"],[44,12,39,10],[44,15,39,13],[44,19,39,17,"WeakMap"],[44,26,39,24],[44,27,39,25],[44,28,39,26],[45,0,39,27],[45,3]],"functionMap":{"names":["<global>","Removable","Removable#constructor","Removable#destroy","Removable#scheduleGc","timeoutManager.setTimeout$argument_0","Removable#updateGcTime","Removable#clearGcTimeout"],"mappings":"AAA;gBCU;ECC;GDE;EEC;GFE;EGC;+DCG;ODE;GHE;EKC;GLK;EMC;GNK;CDC"},"hasCjsExports":false},"type":"js/module"}]}